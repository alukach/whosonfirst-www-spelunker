{% extends "base.html" %}
{% block title %}
{% if whoami %}
{% if whatami == 'namespace' %}
Values for things whose namespace is {{ whoami |e }} in Who's On First
{% elif whatami == 'predicate' %}
Predicates for things whose value is {{ whoami |e }} in Who's On First
{% else %}
Values for {{ whoami |e }} in Who's On First
{% endif %}

{% else %}
Values in Who's On First
{% endif %}
{% endblock %}
{% block content %}

<div class="row">
<div class="col-md-12">

<h3>
{% if whoami %}

{% if whatami == 'namespace' %}
Values for things whose namespace is <span class="hey-look">{{ whoami |e }}</span> in Who's On First
{% elif whatami =='predicate' %}
Predicates for things whose value is <span class="hey-look">{{ whoami |e }}</span> in Who's On First
{% else %}
Values for <span class="hey-look">{{ whoami |e }}</span> in Who's On First
{% endif %}

{% else %}
<span class="hey-look">Values</span> in Who's On First
{% endif %}
</h3>

<ul class="list-inline">
{% for b in mt %}
<li>

{% if whatami=='namespace' %}

{% if b.doc_count == 1 %}
  the value <a href="{{ url_for('mt_hierarchies_for_value', value=b.key) }}" class="hey-look">{{ b.key|e }}</a> has been used <a href="{{ url_for('mt_places_for_namespace_and_predicate_and_value', ns=whoami, pred='*', value=b.key) }}" class="italic hey-look">once</a> with this namespace
{% else %}
  the value <a href="{{ url_for('mt_hierarchies_for_value', value=b.key) }}" class="hey-look">{{ b.key|e }}</a> has been used <a href="{{ url_for('mt_places_for_namespace_and_predicate_and_value', ns=whoami, pred='*', value=b.key) }}" class="italic hey-look">{{ b.doc_count |number_format|e }} times</a> with this namespace
{% endif %}

{% elif whatami=='predicate' %}

{% if b.doc_count == 1 %}
  the predicate <a href="{{ url_for('mt_hierarchies_for_predicate', pred=b.key) }}" class="hey-look">{{ b.key|e }}</a> has been used <a href="{{ url_for('mt_places_for_namespace_and_predicate_and_value', ns='*', pred=b.key, value=whoami) }}" class="italic hey-look">once</a> with this value
{% else %}
  the predicate <a href="{{ url_for('mt_hierarchies_for_predicate', pred=b.key) }}" class="hey-look">{{ b.key|e }}</a> has been used <a href="{{ url_for('mt_places_for_namespace_and_predicate_and_value', ns='*', pred=b.key, value=whoami) }}" class="italic hey-look">{{ b.doc_count |number_format|e }} times</a> with this value
{% endif %}

{% elif what == 'value' %}

{% if b.doc_count == 1 %}
  the value <a href="{{ url_for('mt_hierarchies_for_namespace', ns=b.key) }}" class="hey-look">{{ b.key|e }}</a> has been used <a href="{{ url_for('mt_places_for_namespace_and_predicate_and_value', ns=b.key, pred='*', value=whoami) }}" class="italic hey-look">once</a> with this namespace
{% else %}
  the value <a href="{{ url_for('mt_hierarchies_for_namespace', ns=b.key) }}" class="hey-look">{{ b.key|e }}</a> has been used <a href="{{ url_for('mt_places_for_namespace_and_predicate_and_value', ns=b.key, pred='*', value=whoami) }}" class="italic hey-look">{{ b.doc_count |number_format|e }} times</a> with this namespace
{% endif %}

{% else %}

{% if b.doc_count == 1 %}
  the value <a href="{{ url_for('mt_hierarchies_for_value', value=b.key) }}" class="hey-look">{{ b.key|e }}</a> has been used <a href="{{ url_for('mt_places_for_namespace_and_predicate_and_value', ns='*', pred='*', value=b.key) }}" class="italic hey-look">once</a>
{% else %}
  the value <a href="{{ url_for('mt_hierarchies_for_value', value=b.key) }}" class="hey-look">{{ b.key|e }}</a> has been used <a href="{{ url_for('mt_places_for_namespace_and_predicate_and_value', ns='*', pred='*', value=b.key) }}" class="italic hey-look">{{ b.doc_count |number_format|e }} times</a>
{% endif %}

{% endif %}

</li>
{% endfor %}
</ul>

</div>
</div>

{% endblock %}
